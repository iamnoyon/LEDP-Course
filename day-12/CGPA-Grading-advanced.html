<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <title>CGPA Grading System (Advanced)</title>
</head>
<body>
    <div class="container p-2">
        <fieldset class="border border-dark p-5">
            <legend class="w-auto">CGPA Grading system using JS(Advanced, Using Array)</legend>
            <p style="text-align: right;">* Required Fields</p>
            <form>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 1*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub1" id="sub1" placeholder="Enter the marks of Subject 1">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 2*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub2" id="sub2" placeholder="Enter the marks of Subject 2">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 3*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub3" id="sub3" placeholder="Enter the marks of Subject 3">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 4*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub4" id="sub4" placeholder="Enter the marks of Subject 4" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 5*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub5" id="sub5" placeholder="Enter the marks of Subject 5" required >
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <label for="sub1">Subject 6*</label>
                        </div>
                        <div class="col">
                            <input type="number" class="form-control" name="sub6" id="sub6" placeholder="Enter the marks of Subject 6" required>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col col-2">
                            <button class="btn btn-primary" id="submitBtn" type="button" onclick="showResult()">View CGPA</button>
                        </div>
                        <div class="col col-8">
                            <h3 class="rounded-circle bg-warning pt-2 pb-2 text-center" id="result">Your CGPA will appear here</h3>
                        </div>
                        <div class="col col-2">
                            <button class="btn btn-danger" type="reset">Reset Form</button>
                        </div>
                    </div>
                </div>
            </form>
        </fieldset>
    </div>

    <script type="text/javascript">
        function showResult(){
//declaring variables for marks and getting input from input form
            var sub1 = Number(document.getElementById("sub1").value);
            var sub2 = Number(document.getElementById("sub2").value);
            var sub3 = Number(document.getElementById("sub3").value);
            var sub4 = Number(document.getElementById("sub4").value);
            var sub5 = Number(document.getElementById("sub5").value);
            var sub6 = Number(document.getElementById("sub6").value);

//declaring array variables for marks and storing into array;
            var submark = new Array(sub1,sub2,sub3,sub4,sub5,sub6);

//declaring arrya variables for subject gpa;
            var subcgpa = new Array(6);
            
//getting subject gpa from marks using for loop and array>> beginning
            for(i=0; i<6;i++){
                if(submark[i]<0 || submark[i]>100){
                    //mark less than 0 or greater tha 100 is not available
                    return document.getElementById('result').innerHTML = "Mark is out of range";
                }
                else if(submark[i]>=80 && submark[i]<=100){
                    subcgpa[i] = 4.00;
                }
                else if(submark[i]>=75 && submark[i]<80){
                    subcgpa[i] = 3.75;
                }
                else if(submark[i]>=70 && submark[i]<75){
                    subcgpa[i] = 3.50;
                }
                else if(submark[i]>=65 && submark[i]<70){
                    subcgpa[i] = 3.25;
                }
                else if(submark[i]>=60 && submark[i]<65){
                    subcgpa[i] = 3.00;
                }
                else if(submark[i]>=55 && submark[i]<60){
                    subcgpa[i] = 2.75;
                }
                else if(submark[i]>=50 && submark[i]<55){
                    subcgpa[i] = 2.50;
                }
                else if(submark[i]>=45 && submark[i]<50){
                    subcgpa[i] = 2.25;
                }
                else if(submark[i]>=40 && submark[i]<45){
                    subcgpa[i] = 2.00;
                }
                else if(submark[i]>=0 && submark[i]<40){
                    subcgpa[i] = 0;
                    //If we want we can show here that it has failed
                }
            }
//getting subject gpa from marks using for loop and array>> end

            
            if(subcgpa[0] == 0 || subcgpa[1] == 0 || subcgpa[2] == 0 || subcgpa[3] == 0 || subcgpa[4] == 0 || subcgpa[5] == 0){
                //mark in between 0-39 is failed
                return document.getElementById('result').innerHTML = "You are failed";
            }
            else{
                var totalcgpa=0;
                //counting total cgpa using array and loop
                for(j=0; j<6;j++){
                    totalcgpa = totalcgpa+subcgpa[j];
                }
                var result = totalcgpa/6;
                //showing cgpa
                return document.getElementById('result').innerHTML="Your CGPA is: "+result;
                }
        }

    </script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>